<!DOCTYPE html>
<!-- saved from url=(0033)http://jsfiddle.net/xAMQa/1/show/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title> - jsFiddle demo</title>

  <script type="text/javascript" src="./contentEditable_files/jquery-1.9.1.js"></script>



  <link rel="stylesheet" type="text/css" href="./contentEditable_files/result-light.css">



      <script type="text/javascript" src="../dist/transparency.js"></script>


  <style type="text/css">
    td {
    min-width: 100px;
}
  </style>



<script type="text/javascript">//<![CDATA[
$(window).load(function(){
$.fn.render = Transparency.jQueryPlugin;
$('.first,.second').attr('contenteditable', '');

var data = [{
    first: 'foo',
    second: 'bar'
}];

var directives = {
    'bar': {
        'data-index': function(params) {
            return params.index;
        }
    }
};

$('.foo').render(data, directives);

$(document).on('blur', '.first,.second', function(ev) {
    var row = $(ev.target).closest('tr');
    var index = row.attr('data-index');
    data[Number(index)] =  {
        first: row.find('.first').text(),
        second: row.find('.second').text()
    };
    console.log(data);
    $('.foo').render(data, directives);
});

$('.new').on('click', function(ev) {
    data.push({});
    $('.foo').render(data, directives);
});

});//]]>

</script>


</head>
<body>
  <ol>
    <li>Click new row</li>
    <li>Click first cell of new row</li>
    <li>Add some text</li>
    <li>hit tab-key to focus next cell</li>
    <li>Add some text</li>
    <li>Hit tab again</li>
    <li>Value of second cell is duplicated</li>
</ol>
<table class="foo" border="1" cellspacing="0" cellpadding="0">
    <tbody><tr class="bar" data-index="0">
        <td class="first" contenteditable=""></td>
        <td class="second" contenteditable=""></td>
        <td><button class="save">Save</button></td>
    </tr>
</tbody></table>
<button class="new">New row</button>






</body></html>
